---
import { getLangFromUrl, useTranslations } from "~/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section
  id="contact"
  class="relative py-20 px-4 md:px-6 lg:px-20 border-t border-border overflow-hidden bg-black"
>
  <!-- Background Glow -->
  <div class="absolute inset-0 z-0 pointer-events-none">
    <div class="absolute inset-0 opacity-20"></div>
    <div class="absolute inset-0 bg-[url('/noise.png')] opacity-[0.04]"></div>
  </div>

  <div class="max-w-3xl mx-auto relative z-10">
    <h2 class="text-4xl font-heading font-bold text-white text-center mb-10">
      {t("contact.title")}
    </h2>

    <form
      action="https://api.web3forms.com/submit"
      method="POST"
      class="rounded-2xl px-10 py-10 border border-white/10 bg-white/5 backdrop-blur-md shadow-[0_0_40px_-10px_rgba(255,255,255,0.2)]"
    >
      <input
        type="hidden"
        name="access_key"
        value="eb6aadc8-f093-4fc7-ba9f-8c9869a07202"
      />

      <!-- Name -->
      <div class="mb-6">
        <label for="name" class="block text-sm font-medium text-gray-300 mb-2">
          {t("contact.name")}
        </label>
        <input
          id="name"
          type="text"
          name="name"
          placeholder="Your Name"
          required
          class="w-full border border-white/20 bg-black/20 text-white rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-white"
        />
      </div>

      <!-- Email -->
      <div class="mb-6">
        <label for="email" class="block text-sm font-medium text-gray-300 mb-2">
          {t("contact.email")}
        </label>
        <input
          id="email"
          type="email"
          name="_replyto"
          placeholder="you@example.com"
          required
          class="w-full border border-white/20 bg-black/20 text-white rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-white"
        />
      </div>

      <!-- Message -->
      <div class="mb-8">
        <label
          for="message"
          class="block text-sm font-medium text-gray-300 mb-2"
        >
          {t("contact.message")}
        </label>
        <textarea
          id="message"
          name="message"
          rows="5"
          placeholder="Your Message..."
          required
          class="w-full border border-white/20 bg-black/20 text-white rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-white"
        ></textarea>
      </div>

      <!-- Submit -->
      <button
        type="submit"
        aria-label="Send message"
        class="w-full bg-white text-black font-semibold py-3 px-4 rounded-lg border border-white/20 hover:bg-gray-200 transition-colors"
      >
        {t("contact.send")}
      </button>
    </form>
  </div>
</section>
