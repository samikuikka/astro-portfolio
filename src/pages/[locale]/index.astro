---
import Layout from "../../layouts/Layout.astro";
import Hero from "~/components/widgets/Hero.astro";
import Projects from "~/components/widgets/Projects.astro";
import SkillReveal from "~/components/common/Skills/SkillReveal";
import Contact from "~/components/widgets/Contact.astro";
import { PinnedIntroduction } from "~/components/common/PinnedIntroduction";
import { getLangFromUrl, useTranslations } from "~/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

export async function getStaticPaths() {
  return [{ params: { locale: "en" } }, { params: { locale: "cn" } }];
}
---

<Layout>
  <Hero />
  <PinnedIntroduction client:only="react" lang={lang} />
  <SkillReveal client:only="react" lang={lang} />
  <Projects />
  <Contact />
</Layout>
